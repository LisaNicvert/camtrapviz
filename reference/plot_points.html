<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot species occurrences at cameras — plot_points • camtrapviz</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot species occurrences at cameras — plot_points"><meta name="description" content="Plot species occurrences at cameras as points in time."><meta property="og:description" content="Plot species occurrences at cameras as points in time."><meta property="og:image" content="https://lisanicvert.github.io/camtrapviz/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">camtrapviz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/read-and-clean-data.html">Read and clean data</a></li>
    <li><a class="dropdown-item" href="../articles/filter-data.html">Filter data</a></li>
    <li><a class="dropdown-item" href="../articles/summarize.html">Summarize data</a></li>
    <li><a class="dropdown-item" href="../articles/diversity.html">Diversity analyses</a></li>
    <li><a class="dropdown-item" href="../articles/activity-patterns.html">Activity patterns</a></li>
    <li><a class="dropdown-item" href="../articles/plots.html">Plots</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LisaNicvert/camtrapviz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot species occurrences at cameras</h1>
      <small class="dont-index">Source: <a href="https://github.com/LisaNicvert/camtrapviz/blob/main/R/fct_plot.R" class="external-link"><code>R/fct_plot.R</code></a></small>
      <div class="d-none name"><code>plot_points.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plot species occurrences at cameras as points in time.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_points</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">cam_col</span>,</span>
<span>  datetime_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tz <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  date_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cam_vec <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  points_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dfcam <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cam_col_dfcam <span class="op">=</span> <span class="va">cam_col</span>,</span>
<span>  setup_dfcam <span class="op">=</span> <span class="st">"setup"</span>,</span>
<span>  retrieval_dfcam <span class="op">=</span> <span class="st">"retrieval"</span>,</span>
<span>  interactive <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  textsize <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  text_x_angle <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ptsize <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  date_breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  date_format <span class="op">=</span> <span class="st">"%b %d"</span>,</span>
<span>  date_limits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha_rect <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  col_rect <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  height_rect <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  fill_rect <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  tooltip_info <span class="op">=</span> <span class="va">points_col</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Date"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Camera"</span>,</span>
<span>  cols <span class="op">=</span> <span class="st">"black"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>The dataframe</p></dd>


<dt id="arg-cam-col">cam_col<a class="anchor" aria-label="anchor" href="#arg-cam-col"></a></dt>
<dd><p>Name of the camera column</p></dd>


<dt id="arg-datetime-col">datetime_col<a class="anchor" aria-label="anchor" href="#arg-datetime-col"></a></dt>
<dd><p>Name of the timestamp column. If it
is a datetime, it must be of class POSIXct. It can be <code>NULL</code>
if <code>date_col</code> and <code>time_col</code> are provided.</p></dd>


<dt id="arg-tz">tz<a class="anchor" aria-label="anchor" href="#arg-tz"></a></dt>
<dd><p>Timezone code to use for the data. If provided, the
data will be converted to this timezone. If missing, will search
a timezone in <code>datetime_col</code> (if provided), else will default to
UTC (Etc/GMT for the R code).
The data timezone (or the default timezone) will also override
any timezone present in <code>setup_dfcam</code> or <code>retrieval_dfcam</code>.</p></dd>


<dt id="arg-date-col">date_col<a class="anchor" aria-label="anchor" href="#arg-date-col"></a></dt>
<dd><p>Name of the date column. It is assumed
to be of class <code>Date</code> (else, results are not guaranteed).
It can be <code>NULL</code> if <code>datetime_col</code> is provided.</p></dd>


<dt id="arg-time-col">time_col<a class="anchor" aria-label="anchor" href="#arg-time-col"></a></dt>
<dd><p>Name of the time column. It is assumed
to be of class <code>times</code> (else, results are not guaranteed).
It can be <code>NULL</code> if <code>datetime_col</code> is provided.</p></dd>


<dt id="arg-cam-vec">cam_vec<a class="anchor" aria-label="anchor" href="#arg-cam-vec"></a></dt>
<dd><p>A character vector of all cameras that should appear
on the plot (optional)</p></dd>


<dt id="arg-points-col">points_col<a class="anchor" aria-label="anchor" href="#arg-points-col"></a></dt>
<dd><p>Name of the column to use for the color of data points
(defaults to species column). If the graph is interactive,
this will also be displayed in the labels. It is interpred as a discrete color scale.</p></dd>


<dt id="arg-dfcam">dfcam<a class="anchor" aria-label="anchor" href="#arg-dfcam"></a></dt>
<dd><p>Dataframe containing camera information. Must have at least one column
with the camera ID, the setup and the retrieval date.</p></dd>


<dt id="arg-cam-col-dfcam">cam_col_dfcam<a class="anchor" aria-label="anchor" href="#arg-cam-col-dfcam"></a></dt>
<dd><p>Name of the camera column in dfcam file.</p></dd>


<dt id="arg-setup-dfcam">setup_dfcam<a class="anchor" aria-label="anchor" href="#arg-setup-dfcam"></a></dt>
<dd><p>Name of the setup column in dfcam file. The column
must be coercible to POSIX (eg a Date). If it is not a POSIX, it will be
converted to a POSIX attempting to use the timezone defined in <code>tz</code> (or its
default). If it is a POSIX, the timezone will be converted to <code>tz</code>.</p></dd>


<dt id="arg-retrieval-dfcam">retrieval_dfcam<a class="anchor" aria-label="anchor" href="#arg-retrieval-dfcam"></a></dt>
<dd><p>Name of the retrieval column in dfcam file. The column
must be coercible to POSIX (eg a Date). If it is not a POSIX, it will be
converted to a POSIX attempting to use the timezone defined in <code>tz</code> (or its
default). If it is a POSIX, the timezone will be converted to <code>tz</code>.</p></dd>


<dt id="arg-interactive">interactive<a class="anchor" aria-label="anchor" href="#arg-interactive"></a></dt>
<dd><p>Logical; make the plot interactive with <code>ggiraph</code>?</p></dd>


<dt id="arg-textsize">textsize<a class="anchor" aria-label="anchor" href="#arg-textsize"></a></dt>
<dd><p>Base text size for the axis text
(axes titles are 1.2 times bigger)</p></dd>


<dt id="arg-text-x-angle">text_x_angle<a class="anchor" aria-label="anchor" href="#arg-text-x-angle"></a></dt>
<dd><p>Tilting angle for the x-axis text.</p></dd>


<dt id="arg-ptsize">ptsize<a class="anchor" aria-label="anchor" href="#arg-ptsize"></a></dt>
<dd><p>Size for the points in the plot</p></dd>


<dt id="arg-date-breaks">date_breaks<a class="anchor" aria-label="anchor" href="#arg-date-breaks"></a></dt>
<dd><p>Character describing x-axis ticks spacing (e.g. "10 day").
For the possible values, see documentation of <code><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">ggplot2::scale_y_datetime</a></code> for the
argument <code>date_breaks</code>.</p></dd>


<dt id="arg-date-format">date_format<a class="anchor" aria-label="anchor" href="#arg-date-format"></a></dt>
<dd><p>Character string encoding the display format for x-axis
labels.</p></dd>


<dt id="arg-date-limits">date_limits<a class="anchor" aria-label="anchor" href="#arg-date-limits"></a></dt>
<dd><p>Vector of the lower and upper limit of the x-axis  (must be a
POSIX). The timezone should be the same as the timezone defined in the <code>timezone</code>
argument.</p></dd>


<dt id="arg-alpha-rect">alpha_rect<a class="anchor" aria-label="anchor" href="#arg-alpha-rect"></a></dt>
<dd><p>transparency of the rectangle plotted for the sampling period
(when <code>dfcam</code> is given)</p></dd>


<dt id="arg-col-rect">col_rect<a class="anchor" aria-label="anchor" href="#arg-col-rect"></a></dt>
<dd><p>stroke color of the rectangle plotted for the sampling period
(when <code>dfcam</code> is given)</p></dd>


<dt id="arg-height-rect">height_rect<a class="anchor" aria-label="anchor" href="#arg-height-rect"></a></dt>
<dd><p>height of the rectangle plotted for the sampling period
(when <code>dfcam</code> is given). The height is centered on the middle. 2 corresponds
th the space between the y-axis ticks entirely filled.</p></dd>


<dt id="arg-fill-rect">fill_rect<a class="anchor" aria-label="anchor" href="#arg-fill-rect"></a></dt>
<dd><p>fill color of the rectangle plotted for the sampling period
(when <code>dfcam</code> is given)</p></dd>


<dt id="arg-tooltip-info">tooltip_info<a class="anchor" aria-label="anchor" href="#arg-tooltip-info"></a></dt>
<dd><p>Name of the column to display in the tooltip
when hovering points (if interactive is <code>TRUE</code>).
The data of this column will be displayed additionally to the
of the point datetime. If <code>NULL</code>, only the datetime will be displayed.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>Label for the x-axis</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>Label for the y-axis</p></dd>


<dt id="arg-cols">cols<a class="anchor" aria-label="anchor" href="#arg-cols"></a></dt>
<dd><p>Color palette for the points. Can be either a palette
or a single color name.
If a single color name is provided, but <code>points_col</code> has several values,
this parameter will be overriden with the default palette.
If a palette of colors is provided in <code>cols</code>, the values will be matched with
<code>points_col</code> values. <code>cols</code> can be named with values of <code>points_col</code>
to map colors. Else, the mapping is done by alphabetical order.
If a palette is provided, but has more colors than the values of <code>points_col</code>,
a warning will be issued and a subset will be selected (based on names
of the palette that are in the values of <code>points_col</code>, if applicable).
If it has less colors, an error will be returned.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ggplot</code> object representing time on the x-axis
and cameras on the y-axis. Colors of the points correspond to
different species.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>date_col</code> and <code>time_col</code> are provided along with
<code>datetime_col</code>, they will be ignored.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://lisanicvert.github.io/camtrapviz/articles/plots.html"><code><a href="../articles/plots.html">vignette("plots", package = "camtrapviz")</a></code></a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"recordTableSample"</span>, package <span class="op">=</span> <span class="st">"camtrapR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">recordTableSample</span><span class="op">$</span><span class="va">DateTimeOriginal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">recordTableSample</span><span class="op">$</span><span class="va">DateTimeOriginal</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Without camera sampling information</span></span></span>
<span class="r-in"><span><span class="fu">plot_points</span><span class="op">(</span><span class="va">recordTableSample</span>, </span></span>
<span class="r-in"><span>            cam_col <span class="op">=</span> <span class="st">"Station"</span>, </span></span>
<span class="r-in"><span>            datetime_col <span class="op">=</span> <span class="st">"DateTimeOriginal"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_points-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># With camera sampling information</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"camtraps"</span>, package <span class="op">=</span> <span class="st">"camtrapR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">camtraps</span><span class="op">$</span><span class="va">Setup_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">camtraps</span><span class="op">$</span><span class="va">Setup_date</span>, </span></span>
<span class="r-in"><span>                               format <span class="op">=</span> <span class="st">"%d/%m/%Y"</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="va">camtraps</span><span class="op">$</span><span class="va">Retrieval_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">camtraps</span><span class="op">$</span><span class="va">Retrieval_date</span>, </span></span>
<span class="r-in"><span>                                   format <span class="op">=</span> <span class="st">"%d/%m/%Y"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_points</span><span class="op">(</span><span class="va">recordTableSample</span>, </span></span>
<span class="r-in"><span>            cam_col <span class="op">=</span> <span class="st">"Station"</span>, </span></span>
<span class="r-in"><span>            datetime_col <span class="op">=</span> <span class="st">"DateTimeOriginal"</span>,</span></span>
<span class="r-in"><span>            dfcam <span class="op">=</span> <span class="va">camtraps</span>,</span></span>
<span class="r-in"><span>            setup_dfcam <span class="op">=</span> <span class="st">"Setup_date"</span>,</span></span>
<span class="r-in"><span>            retrieval_dfcam <span class="op">=</span> <span class="st">"Retrieval_date"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_points-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lisa Nicvert.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

