<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Summarize cameras — summarize_cameras • camtrapviz</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summarize cameras — summarize_cameras"><meta name="description" content="Summarize information about cameras activity from camera trap data."><meta property="og:description" content="Summarize information about cameras activity from camera trap data."><meta property="og:image" content="https://lisanicvert.github.io/camtrapviz/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">camtrapviz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/read-and-clean-data.html">Read and clean data</a></li>
    <li><a class="dropdown-item" href="../articles/filter-data.html">Filter data</a></li>
    <li><a class="dropdown-item" href="../articles/summarize.html">Summarize data</a></li>
    <li><a class="dropdown-item" href="../articles/diversity.html">Diversity analyses</a></li>
    <li><a class="dropdown-item" href="../articles/activity-patterns.html">Activity patterns</a></li>
    <li><a class="dropdown-item" href="../articles/plots.html">Plots</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LisaNicvert/camtrapviz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Summarize cameras</h1>
      <small class="dont-index">Source: <a href="https://github.com/LisaNicvert/camtrapviz/blob/main/R/fct_data_wrangling.R" class="external-link"><code>R/fct_data_wrangling.R</code></a></small>
      <div class="d-none name"><code>summarize_cameras.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Summarize information about cameras activity from camera trap data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">summarize_cameras</span><span class="op">(</span></span>
<span>  <span class="va">dfrec</span>,</span>
<span>  <span class="va">cam_col</span>,</span>
<span>  datetime_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  date_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spp_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  obstype_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dfcam <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cam_col_dfcam <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">dfcam</span><span class="op">)</span>, <span class="cn">NULL</span>, <span class="va">cam_col</span><span class="op">)</span>,</span>
<span>  setup_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  retrieval_col <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dfrec">dfrec<a class="anchor" aria-label="anchor" href="#arg-dfrec"></a></dt>
<dd><p>the records dataframe: must contain the camera names and some
infortmation on the pictures sampling time (date and time or datetime).</p></dd>


<dt id="arg-cam-col">cam_col<a class="anchor" aria-label="anchor" href="#arg-cam-col"></a></dt>
<dd><p>name of the column containing the camera ID</p></dd>


<dt id="arg-datetime-col">datetime_col<a class="anchor" aria-label="anchor" href="#arg-datetime-col"></a></dt>
<dd><p>name of the column containing timestamps for the pictures
(optional if <code>date_col</code> and <code>time_col</code> are provided)</p></dd>


<dt id="arg-date-col">date_col<a class="anchor" aria-label="anchor" href="#arg-date-col"></a></dt>
<dd><p>name of the column containing date (optional if <code>datetime_col</code> is provided)</p></dd>


<dt id="arg-time-col">time_col<a class="anchor" aria-label="anchor" href="#arg-time-col"></a></dt>
<dd><p>name of the column containing time (optional if <code>datetime_col</code> is provided)</p></dd>


<dt id="arg-spp-col">spp_col<a class="anchor" aria-label="anchor" href="#arg-spp-col"></a></dt>
<dd><p>name of the species column (optional). If present,
the summarry will include the number of species seen on each camera.</p></dd>


<dt id="arg-obstype-col">obstype_col<a class="anchor" aria-label="anchor" href="#arg-obstype-col"></a></dt>
<dd><p>name of the observation type column</p></dd>


<dt id="arg-dfcam">dfcam<a class="anchor" aria-label="anchor" href="#arg-dfcam"></a></dt>
<dd><p>the dataframe of cameras deployments (optional).</p></dd>


<dt id="arg-cam-col-dfcam">cam_col_dfcam<a class="anchor" aria-label="anchor" href="#arg-cam-col-dfcam"></a></dt>
<dd><p>name of the column containing camera ID in <code>dfcam</code>
If <code>dfcam</code> is provided but <code>cam_col_dfcam</code> is <code>NULL</code>, it will be set to <code>cam_col</code>.</p></dd>


<dt id="arg-setup-col">setup_col<a class="anchor" aria-label="anchor" href="#arg-setup-col"></a></dt>
<dd><p>name of the column containing setup date or datetime
in <code>dfcam</code> (optional)</p></dd>


<dt id="arg-retrieval-col">retrieval_col<a class="anchor" aria-label="anchor" href="#arg-retrieval-col"></a></dt>
<dd><p>name of the column containing retrieval date or datetime
in <code>dfcam</code> (optional)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The summary is returned as a dataframe with the following columns:</p><ul><li><p>a column named as <code>cam_col</code> containing the camera ID.</p></li>
<li><p><code>sampling_length</code> length of the sampling period in days (computed
with the <code>cameraOperation</code> function from the <code>camtrapR</code> package).
If <code>setup</code> or <code>retrieval</code> are <code>NA</code>, then <code>sampling_length</code> is <code>NA</code>
and if <code>setup</code> and <code>retrieval</code> are the same (e.g. unique picture),
<code>sampling_length</code> is zero.</p></li>
<li><p><code>pictures</code>: the number of pictures taken with this camera (it
is zero if the camera is only in <code>dfcam</code> but not in <code>dfrec</code>).</p></li>
<li><p><code>species</code> (present only if <code>spp_col</code> is provided): number of species
caught on camera. If <code>obstype_col</code> is provided, species
marked as <code>NA</code> in <code>spp_col</code> but which have different values
in <code>obs_type</code> are counted as different species.</p></li>
<li><p><code>setup</code> containing the start of the sampling for each camera.</p></li>
<li><p><code>retrieval</code> containing the end of the sampling for each camera.</p></li>
<li><p><code>setup_origin</code> containing the method used to determine the
start of the sampling (<code>picture</code> or <code>setup</code>)</p></li>
<li><p><code>retrieval_origin</code> containing the method used to determine the
end of the sampling (<code>picture</code> or <code>retrieval</code>)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In the final dataframe, the start and the end of the sampling are
computed as follows for each camera:</p><ul><li><p>if setup and retrieval date are provided in <code>dfcam</code>, then these
dates are used for the start and the end of the sampling in the summary.</p></li>
<li><p>for the cameras for which this information is not provided,
it will be replaced with the date of the first or the last picture
of the camera.
The information on how the start and the end of the sampling
were computed is stored in <code>setup_origin</code> and <code>retrieval_origin</code>.</p></li>
<li><p>if setup and retrieval date are provided via <code>dfcam</code>,
<code>setup_origin</code> and <code>retrieval_origin</code> are <code>metadata</code>.</p></li>
<li><p>else, these columns contain <code>picture</code>.</p></li>
<li><p>if <code>dfcam</code> is provided but has no setup or retrieval columns, then
the cameras will be added but all columns except camera name will be <code>NA</code>.
As this function uses the <code>cameraOperation</code> function from
the <code>camtrapR</code> package, the camera names may not contain
<code>Cam</code> as it is a reserved name in this function.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://lisanicvert.github.io/camtrapviz/articles/summarize.html"><code><a href="../articles/summarize.html">vignette("summarize", package = "camtrapviz")</a></code></a>,
<code><a href="summarize_species.html">summarize_species()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create synthetic data</span></span></span>
<span class="r-in"><span><span class="va">records</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pigeon"</span>, <span class="st">"mouse"</span>, <span class="st">"pigeon"</span>, <span class="st">"mouse"</span>, <span class="st">"mouse"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      stamp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022-01-01 10:22:01"</span>, <span class="st">"2022-03-01 22:12:01"</span>,</span></span>
<span class="r-in"><span>                                           <span class="st">"2022-01-02 11:54:33"</span>, <span class="st">"2022-01-12 07:14:38"</span>, </span></span>
<span class="r-in"><span>                                           <span class="st">"2022-01-22 18:01:34"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      camera <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cameras</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>camera <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      setup <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"2021-12-01"</span>, <span class="st">"2021-12-01"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      retrieval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022-03-01"</span>, <span class="st">"2022-03-01"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Summarize cameras</span></span></span>
<span class="r-in"><span><span class="fu">summarize_cameras</span><span class="op">(</span><span class="va">records</span>, </span></span>
<span class="r-in"><span>                  cam_col <span class="op">=</span> <span class="st">"camera"</span>, datetime_col <span class="op">=</span> <span class="st">"stamp"</span>, </span></span>
<span class="r-in"><span>                  dfcam <span class="op">=</span> <span class="va">cameras</span>, </span></span>
<span class="r-in"><span>                  setup_col <span class="op">=</span> <span class="st">"setup"</span>, retrieval_col <span class="op">=</span> <span class="st">"retrieval"</span>,</span></span>
<span class="r-in"><span>                  spp_col <span class="op">=</span> <span class="st">"species"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   camera pictures species sampling_length               setup  retrieval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      A        2       2          58.568 2022-01-01 10:22:01 2022-03-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      B        3       2          90.000 2021-12-01 00:00:00 2022-03-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      C        0      NA              NA 2021-12-01 00:00:00       &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   setup_origin retrieval_origin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      picture         metadata</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     metadata         metadata</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     metadata             &lt;NA&gt;</span>
<span class="r-in"><span><span class="co"># Since camera A had no setup date, the first picture is used.</span></span></span>
<span class="r-in"><span><span class="co"># For camera B, setup and retrieval are taken from dfcam.</span></span></span>
<span class="r-in"><span><span class="co"># For camera C, as it is present only on dfcam and has no retrieval date,</span></span></span>
<span class="r-in"><span><span class="co"># only a setup date is indicated.</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lisa Nicvert.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

