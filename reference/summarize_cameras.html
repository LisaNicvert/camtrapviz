<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Summarize information about cameras activity from camera trap data."><title>Summarize cameras — summarize_cameras • camtrapviz</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summarize cameras — summarize_cameras"><meta property="og:description" content="Summarize information about cameras activity from camera trap data."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">camtrapviz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/activity-patterns.html">Activity patterns</a>
    <a class="dropdown-item" href="../articles/plots.html">Plots</a>
    <a class="dropdown-item" href="../articles/read-and-clean-data.html">Read and clean data</a>
    <a class="dropdown-item" href="../articles/summarize.html">Summarize</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Summarize cameras</h1>
      
      <div class="d-none name"><code>summarize_cameras.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Summarize information about cameras activity from camera trap data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">summarize_cameras</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">cam_col</span>,</span>
<span>  <span class="va">timestamp_col</span>,</span>
<span>  date_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dfcam <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cam_col_dfcam <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  setup_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  retrieval_col <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p>the records dataframe: must contain the camera names and some
infortmation on the pictures sampling time (date and time or datetime).</p></dd>


<dt>cam_col</dt>
<dd><p>name of the column containing the camera ID</p></dd>


<dt>timestamp_col</dt>
<dd><p>name of the column containing timestamps for the pictures
(optional if <code>date_col</code> and <code>time_col</code> are provided)</p></dd>


<dt>date_col</dt>
<dd><p>name of the column containing date (optional if <code>timestamp_col</code> is provided)</p></dd>


<dt>time_col</dt>
<dd><p>name of the column containing time (optional if <code>timestamp_col</code> is provided)</p></dd>


<dt>dfcam</dt>
<dd><p>the dataframe of cameras deployments (optional).</p></dd>


<dt>cam_col_dfcam</dt>
<dd><p>name of the column containing camera ID in <code>dfcam</code>
If <code>dfcam</code> is provided but <code>cam_col_dfcam</code> is <code>NULL</code>, it will be set to <code>cam_col</code>.</p></dd>


<dt>setup_col</dt>
<dd><p>name of the column containing setup date or datetime
in <code>dfcam</code> (optional)</p></dd>


<dt>retrieval_col</dt>
<dd><p>name of the column containing retrieval date or datetime
in <code>dfcam</code> (optional)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The summary is returned as a dataframe with the following columns:</p><ul><li><p>a column named as <code>cam_col</code> containing the camera ID.</p></li>
<li><p><code>setup</code> containing the start of the sampling for each camera.</p></li>
<li><p><code>retrieval</code> containing the end of the sampling for each camera.</p></li>
<li><p><code>setup_origin</code> containing the method used to determine the
start of the sampling (<code>picture</code> or <code>setup</code>)</p></li>
<li><p><code>retrieval_origin</code> containing the method used to determine the
end of the sampling (<code>picture</code> or <code>retrieval</code>)</p></li>
<li><p><code>sampling_length</code> length of the sampling period in days (computed
with the <code>cameraOperation</code> function from the <code>camtrapR</code> package).
If <code>setup</code> or <code>retrieval</code> are <code>NA</code>, then <code>sampling_length</code> is <code>NA</code>
and if <code>setup</code> and <code>retrieval</code> are the same (e.g. unique picture),
<code>sampling_length</code> is zero.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In the final dataframe, the start and the end of the sampling are
computed as follows for each camera:</p><ul><li><p>if setup and retrieval date are provided in <code>dfcam</code>, then these
dates are used for the start and the end of the sampling in the summary.</p></li>
<li><p>for the cameras for which this information is not provided,
it will be replaced with the date of the first or the last picture
of the camera.
The information on how the start and the end of the sampling
were computed is stored in <code>setup_origin</code> and <code>retrieval_origin</code>.</p></li>
<li><p>if setup and retrieval date are provided via <code>dfcam</code>,
<code>setup_origin</code> and <code>retrieval_origin</code> are <code>metadata</code>.</p></li>
<li><p>else, these columns contain <code>picture</code>.</p></li>
<li><p>if <code>dfcam</code> is provided but has no setup or retrieval columns, then
the cameras will be added but all columns except camera name will be <code>NA</code>.
As this function uses the <code>cameraOperation</code> function from
the <code>camtrapR</code> package, the camera names may not contain
<code>Cam</code> as it is a reserved name in this function.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create synthetic data</span></span></span>
<span class="r-in"><span><span class="va">records</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pigeon"</span>, <span class="st">"mouse"</span>, <span class="st">"pigeon"</span>, <span class="st">"mouse"</span>, <span class="st">"mouse"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      stamp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022-01-01 10:22:01"</span>, <span class="st">"2022-03-01 22:12:01"</span>,</span></span>
<span class="r-in"><span>                                           <span class="st">"2022-01-02 11:54:33"</span>, <span class="st">"2022-01-12 07:14:38"</span>, </span></span>
<span class="r-in"><span>                                           <span class="st">"2022-01-22 18:01:34"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      camera <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cameras</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>camera <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      setup <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"2021-12-01"</span>, <span class="st">"2021-12-01"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      retrieval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022-03-01"</span>, <span class="st">"2022-03-01"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Summarize cameras</span></span></span>
<span class="r-in"><span><span class="fu">summarize_cameras</span><span class="op">(</span><span class="va">records</span>, </span></span>
<span class="r-in"><span>                  cam_col <span class="op">=</span> <span class="st">"camera"</span>, timestamp_col <span class="op">=</span> <span class="st">"stamp"</span>, </span></span>
<span class="r-in"><span>                  dfcam <span class="op">=</span> <span class="va">cameras</span>, </span></span>
<span class="r-in"><span>                  setup_col <span class="op">=</span> <span class="st">"setup"</span>, retrieval_col <span class="op">=</span> <span class="st">"retrieval"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The legacy packages maptools, rgdal, and rgeos, underpinning this package</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> will retire shortly. Please refer to R-spatial evolution reports on</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> https://r-spatial.org/r/2023/05/15/evolution4.html for details.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This package is now running under evolution status 0 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CTtable was converted from tibble to data.frame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   camera               setup  retrieval setup_origin retrieval_origin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      A 2022-01-01 10:22:01 2022-03-01      picture         metadata</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      B 2021-12-01 00:00:00 2022-03-01     metadata         metadata</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      C 2021-12-01 00:00:00       &lt;NA&gt;     metadata             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sampling_length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          58.568</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          90.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3              NA</span>
<span class="r-in"><span><span class="co"># Since camera A had no setup date, the first picture is used.</span></span></span>
<span class="r-in"><span><span class="co"># For camera B, setup and retrieval are taken from dfcam.</span></span></span>
<span class="r-in"><span><span class="co"># For camera C, as it is present only on dfcam and has no retrieval date,</span></span></span>
<span class="r-in"><span><span class="co"># only a setup date is indicated.</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Lisa Nicvert.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

