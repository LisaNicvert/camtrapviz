---
title: "read-and-clean-data"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{read-and-clean-data}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(camtrapviz)
```

This vignette demonstrates how the functions included in this package can be used to read and clean different data formats.

## Write data in tempfile

```{r}
data(recordTableSample, package = "camtrapR")
data(camtraps, package = "camtrapR")

recordfile <- paste0(tempdir(), "/records.csv")
camtrapfile <- paste0(tempdir(), "/camtraps.csv")

write.csv(recordTableSample, recordfile, 
          row.names = FALSE)
write.csv(camtraps, camtrapfile, 
          row.names = FALSE)
```

## Read data

### Read csv files

```{r}
dat <- read_data(records_path = recordfile,
                 cameras_path = camtrapfile,
                 sep_records = ",", sep_cameras = ",")
```

### Read camtrapDP json file

To write

## Clean data

### Clean csv records and table

```{r}
rec_type <- list(Station = "as.character",
                 Date = list("as_date",
                             format = "%Y-%m-%d"),
                 Time = "times",
                 DateTimeOriginal = "as.POSIXct")

cam_type <- list(Station = "as.character",
                 Setup_date = list("as.Date",
                                   format = "%d/%m/%Y"), 
                 Retrieval_date = list("as.Date",
                                       format = "%d/%m/%Y"))

dat_clean <- clean_data(dat, 
                        rec_type = rec_type,
                        cam_type = cam_type)
```

### Read a unique csv file with camera info

To write

### Read a camtrapDP json file

To write